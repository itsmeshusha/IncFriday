(this["webpackJsonpfriday-with-ignat"]=this["webpackJsonpfriday-with-ignat"]||[]).push([[0],{13:function(e,t,n){e.exports={mainBlock:"Login_mainBlock__2Hnsf",heading:"Login_heading__2uUNe",form:"Login_form__YUnFu",item:"Login_item__8ruFX"}},14:function(e,t,n){e.exports={header:"Header_header__10E-F",item:"Header_item__2jxiJ",selected:"Header_selected__1gq-3"}},16:function(e,t,n){e.exports={mainBlock:"NewPassword_mainBlock__18qO6",heading:"NewPassword_heading__1yeBX",form:"NewPassword_form__GI_Wx",item:"NewPassword_item__JkpR3"}},17:function(e,t,n){e.exports={mainBlock:"Registration_mainBlock__2-tPy",form:"Registration_form__2vKhD",item:"Registration_item__2OvGO"}},21:function(e,t,n){e.exports={mainBlock:"RecoverPassword_mainBlock__36Kk5",heading:"RecoverPassword_heading__2PBQ9",form:"RecoverPassword_form__2SbKz",item:"RecoverPassword_item__hD7wO",text:"RecoverPassword_text__17f5i"}},25:function(e,t,n){e.exports={superInput:"SuperInputText_superInput__1Dvnc",errorInput:"SuperInputText_errorInput__2KNWh",error:"SuperInputText_error__39NON"}},28:function(e,t,n){e.exports={textContainer:"Error_textContainer__33KNz",text:"Error_text__1aWPg"}},29:function(e,t,n){e.exports={checkbox:"SuperCheckbox_checkbox__BWIdw",spanClassName:"SuperCheckbox_spanClassName__3Sm-t"}},30:function(e,t,n){e.exports={default:"SuperButton_default__2uC1O",red:"SuperButton_red__3Lo1u"}},50:function(e,t,n){},51:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n(1),c=n(23),r=n.n(c),o=(n(50),n(51),n(11)),i=n(4),d=n(28),l=n.n(d),j=function(){return Object(s.jsx)("div",{className:l.a.textContainer,children:Object(s.jsx)("div",{className:l.a.text,children:"Error 404: page don't found :("})})},u=n(8),O=n(2),b=n(20),h=n(25),m=n.n(h),p=function(e){var t=e.onChange,n=e.onChangeText,a=e.onKeyPress,c=e.onEnter,r=e.error,o=(e.className,e.spanClassName),i=e.setError,d=Object(b.a)(e,["onChange","onChangeText","onKeyPress","onEnter","error","className","spanClassName","setError"]),l="".concat(m.a.error," ").concat(o||""),j=r?m.a.errorInput:m.a.superInput;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("input",Object(O.a)({onChange:function(e){t&&t(e),n&&n(e.currentTarget.value),i&&i("")},onKeyPress:function(e){a&&a(e),"Enter"===e.key&&c&&c()},className:j},d)),r&&Object(s.jsx)("span",{className:l,children:r})]})},x=n(29),R=n.n(x),f=function(e){e.type;var t=e.onChange,n=e.onChangeChecked,a=e.className,c=(e.spanClassName,e.children),r=Object(b.a)(e,["type","onChange","onChangeChecked","className","spanClassName","children"]),o="".concat(R.a.checkbox," ").concat(a||"");return Object(s.jsxs)("label",{children:[Object(s.jsx)("input",Object(O.a)({type:"checkbox",onChange:function(e){t&&t(e),n&&n(e.currentTarget.checked)},className:o},r)),c&&Object(s.jsx)("span",{className:R.a.spanClassName,children:c})]})},E=n(30),g=n.n(E),_=function(e){var t=e.red,n=e.className,a=Object(b.a)(e,["red","className"]),c="".concat(t?g.a.red:g.a.default," ").concat(n);return Object(s.jsx)("button",Object(O.a)({className:c},a))},v=n(6),S=n(13),N=n.n(S),C=n(19),w=n.n(C),P=w.a.create({baseURL:"http://localhost:7542/2.0/"}),I=function(e){return P.post("auth/login",e)},T={isLoggedIn:!1,error:""},k=function(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),d=Object(u.a)(r,2),l=d[0],j=d[1],b=Object(a.useState)(!1),h=Object(u.a)(b,2),m=h[0],x=h[1],R=Object(v.b)(),E=Object(v.c)((function(e){return e.login.isLoggedIn})),g=Object(v.c)((function(e){return e.login.error}));return E?Object(s.jsx)(i.a,{to:te.PROFILE}):Object(s.jsxs)("div",{className:N.a.mainBlock,children:[g||"",Object(s.jsx)("div",{className:N.a.heading,children:"Log In"}),Object(s.jsxs)("div",{className:N.a.form,children:[Object(s.jsxs)("div",{className:N.a.item,children:[Object(s.jsx)("div",{children:"Enter email"}),Object(s.jsx)(p,{type:"text",placeholder:"email",value:n,onChange:function(e){c(e.target.value)}})]}),Object(s.jsxs)("div",{className:N.a.item,children:[Object(s.jsx)("div",{children:"Enter password"}),Object(s.jsx)(p,{type:"password",placeholder:"password",value:l,onChange:function(e){j(e.target.value)}})]}),Object(s.jsxs)("div",{className:N.a.item,children:[Object(s.jsx)("span",{children:"Remember me"}),Object(s.jsx)(f,{checked:m,onChange:function(e){x(e.target.checked)}})]}),Object(s.jsx)("div",{className:N.a.item,children:Object(s.jsx)(_,{onClick:function(){var e;R((e={email:n,password:l,rememberMe:m},function(t){I(e).then((function(e){t({type:"LOGIN-REDUCER/LOGIN",isLoggedIn:!0})})).catch((function(e){t({type:"LOGIN/SET_ERROR",error:e.response.data.error+" more details in the console"}),console.log("Error:",Object(O.a)({},e))}))}))},children:"Log In"})}),Object(s.jsx)("div",{className:N.a.item,children:Object(s.jsx)(o.b,{activeClassName:N.a.selected,to:te.RECOVER_PASSWORD,children:"Forgot password?"})}),Object(s.jsx)("div",{className:N.a.item,children:Object(s.jsx)(o.b,{activeClassName:N.a.selected,to:te.REGISTRATION,children:"Don't have profile? Sign up."})})]})]})},y=w.a.create({baseURL:"https://neko-back.herokuapp.com/2.0",withCredentials:!0}),D=function(e){return y.post("/auth/forgot",{email:e,from:"alexbushueva27@gmail.com",message:"<div style=\"background-color: #ffb7d5; padding: 15px border-radius: 20px\">\n                    password recovery link: \n                        <a href='http://localhost:3000/#/new-password/$token$'>link</a>\n                    </div>\n                    "})},L=function(e,t){return y.post("/auth/set-new-password",{password:e,resetPasswordToken:t})},U={status:"idle",error:"",successMessage:""},W=function(e){return{type:"NEW-PASSWORD-REDUCER/SET_STATUS",status:e}},A=n(16),G=n.n(A),B=function(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),o=Object(u.a)(r,2),d=o[0],l=o[1],j=Object(i.g)().token,O=Object(v.b)();return"succeeded"===Object(v.c)((function(e){return e.newPassword.status}))?Object(s.jsx)(i.a,{to:te.LOGIN}):Object(s.jsxs)("div",{className:G.a.mainBlock,children:[Object(s.jsx)("div",{className:G.a.heading,children:"New Password"}),Object(s.jsxs)("div",{className:G.a.form,children:[Object(s.jsxs)("div",{className:G.a.item,children:[Object(s.jsx)("span",{children:"Enter new password"}),Object(s.jsx)(p,{type:"password",placeholder:"password",value:n,onChange:function(e){c(e.target.value)}})]}),Object(s.jsxs)("div",{className:G.a.item,children:[Object(s.jsx)("span",{children:"Confirm new password"}),Object(s.jsx)(p,{type:"password",placeholder:"password",value:d,onChange:function(e){l(e.target.value)}})]}),Object(s.jsx)("div",{className:G.a.item,children:Object(s.jsx)(_,{onClick:function(){n===d?(console.log(j),O(function(e,t){return function(n){n(W("loading")),L(e,t).then((function(e){n({type:"NEW-PASSWORD-REDUCER/SET_SUCCESS",success:e.data.message})})).catch((function(e){var t=e.response?e.response.data.error:e.message+", more details in the console";n(function(e){return{type:"NEW-PASSWORD-REDUCER/SET_ERROR",error:e}}(t))})).finally((function(){n(W("succeeded"))}))}}(n,j))):alert("Passwords don't match!")},children:"Set password"})})]})]})},F=function(){return Object(s.jsx)("div",{children:"Profile"})},V={status:"idle",error:"",successMessage:""},K=function(e){return{type:"RECOVER-PASSWORD-REDUCER/SET_RECOVERY_STATUS",status:e}},H=n(21),J=n.n(H),M=function(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=t[0],c=t[1],r=Object(v.b)();return Object(s.jsxs)("div",{className:J.a.mainBlock,children:[Object(s.jsx)("div",{className:J.a.heading,children:"Forgot Password?"}),Object(s.jsx)("div",{className:J.a.form,children:Object(s.jsxs)("div",{className:J.a.item,children:[Object(s.jsx)(p,{type:"text",placeholder:"email",value:n,onChange:function(e){c(e.target.value)}}),Object(s.jsx)(_,{onClick:function(){r(function(e){return function(t){return t(K("loading")),D(e).then((function(e){200===e.status&&t({type:"RECOVER-PASSWORD-REDUCER/SET_SUCCESS",recoverySuccess:e.data.info})})).catch((function(e){var n=e.response?e.response.data.error:e.message+", more details in the console";t(function(e){return{type:"RECOVER-PASSWORD-REDUCER/SET_ERROR",error:e}}(n))})).finally((function(){t(K("succeeded"))}))}}(n))},children:"Send email"})]})}),Object(s.jsx)("p",{className:J.a.text,children:"On your email we'll send a link. Please click it."})]})},Y=w.a.create({baseURL:"http://localhost:7542/2.0/"}),q=function(e){return Y.post("/auth/register",e)},z={isRegistered:!1},X=function(e){return{type:"REGISTER-REDUCER/REGISTER-NEW-USER",isRegistered:e}},$=n(17),Q=n.n($),Z=function(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),o=Object(u.a)(r,2),d=o[0],l=o[1],j=Object(a.useState)(""),O=Object(u.a)(j,2),b=O[0],h=O[1],m=Object(v.b)();return Object(v.c)((function(e){return e.register.isRegistered}))?Object(s.jsx)(i.a,{to:te.LOGIN}):Object(s.jsx)("div",{className:Q.a.mainBlock,children:Object(s.jsxs)("div",{className:Q.a.form,children:[Object(s.jsxs)("div",{className:Q.a.item,children:[Object(s.jsx)("div",{children:"Enter email"}),Object(s.jsx)(p,{type:"text",placeholder:"email",value:n,onChange:function(e){c(e.target.value)}})]}),Object(s.jsxs)("div",{className:Q.a.item,children:[Object(s.jsx)("div",{children:"Enter password"}),Object(s.jsx)(p,{type:"password",placeholder:"password",value:d,onChange:function(e){l(e.target.value)}})]}),Object(s.jsxs)("div",{className:Q.a.item,children:[Object(s.jsx)("div",{children:"Confirm password"}),Object(s.jsx)(p,{type:"password",placeholder:"confirm password",value:b,onChange:function(e){h(e.target.value)}})]}),Object(s.jsx)("div",{className:Q.a.item,children:Object(s.jsx)(_,{onClick:function(){var e;d===b?(m((e={email:n,password:d},function(t){q(e).then((function(e){201===e.status?t(X(!0)):(t(X(!1)),alert(e.status))})).catch((function(e){return console.log(e)}))})),c(""),l(""),h("")):alert("Passwords don't match!")},children:"Register"})})]})})},ee=function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)(p,{}),Object(s.jsx)(_,{children:"Button"}),Object(s.jsx)(f,{})]})},te={LOGIN:"/login",NEW_PASSWORD:"/new-password/:token?",PROFILE:"/profile",RECOVER_PASSWORD:"/recover-password",REGISTRATION:"/registration",TEST:"/test"},ne=function(){return Object(s.jsx)("div",{children:Object(s.jsxs)(i.d,{children:[Object(s.jsx)(i.b,{exact:!0,path:"/",render:function(){return Object(s.jsx)(i.a,{to:te.PROFILE})}}),Object(s.jsx)(i.b,{path:te.LOGIN,render:function(){return Object(s.jsx)(k,{})}}),Object(s.jsx)(i.b,{path:te.NEW_PASSWORD,render:function(){return Object(s.jsx)(B,{})}}),Object(s.jsx)(i.b,{path:te.PROFILE,render:function(){return Object(s.jsx)(F,{})}}),Object(s.jsx)(i.b,{path:te.RECOVER_PASSWORD,render:function(){return Object(s.jsx)(M,{})}}),Object(s.jsx)(i.b,{path:te.REGISTRATION,render:function(){return Object(s.jsx)(Z,{})}}),Object(s.jsx)(i.b,{path:te.TEST,render:function(){return Object(s.jsx)(ee,{})}}),Object(s.jsx)(i.b,{render:function(){return Object(s.jsx)(j,{})}})]})})},se=n(14),ae=n.n(se),ce=function(){return Object(s.jsxs)("div",{className:ae.a.header,children:[Object(s.jsx)("span",{className:ae.a.item,children:Object(s.jsx)(o.b,{activeClassName:ae.a.selected,to:te.LOGIN,children:"Log In"})}),Object(s.jsx)("span",{className:ae.a.item,children:Object(s.jsx)(o.b,{activeClassName:ae.a.selected,to:te.REGISTRATION,children:"Registration"})}),Object(s.jsx)("span",{className:ae.a.item,children:Object(s.jsx)(o.b,{activeClassName:ae.a.selected,to:te.PROFILE,children:"Profile"})})]})};var re=function(){return Object(s.jsx)("div",{className:"App",children:Object(s.jsxs)(o.a,{children:[Object(s.jsx)(ce,{}),Object(s.jsx)(ne,{})]})})},oe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,76)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),s(e),a(e),c(e),r(e)}))},ie=n(15),de={},le=n(44),je=Object(ie.c)({profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"":default:return e}},register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTER-REDUCER/REGISTER-NEW-USER":return Object(O.a)(Object(O.a)({},e),{},{isRegistered:t.isRegistered});default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN-REDUCER/LOGIN":return Object(O.a)(Object(O.a)({},e),{},{isLoggedIn:t.isLoggedIn});case"LOGIN/SET_ERROR":return Object(O.a)(Object(O.a)({},e),{},{error:t.error});default:return e}},recoverPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECOVER-PASSWORD-REDUCER/SET_ERROR":return Object(O.a)(Object(O.a)({},e),{},{status:t.error});case"RECOVER-PASSWORD-REDUCER/SET_SUCCESS":return Object(O.a)(Object(O.a)({},e),{},{status:t.recoverySuccess});case"RECOVER-PASSWORD-REDUCER/SET_RECOVERY_STATUS":return Object(O.a)(Object(O.a)({},e),{},{status:t.status});default:return e}},newPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW-PASSWORD-REDUCER/SET_ERROR":return Object(O.a)(Object(O.a)({},e),{},{error:t.error});case"NEW-PASSWORD-REDUCER/SET_STATUS":return Object(O.a)(Object(O.a)({},e),{},{status:t.status});case"NEW-PASSWORD-REDUCER/SET_SUCCESS":return Object(O.a)(Object(O.a)({},e),{},{successMessage:t.success});default:return e}}}),ue=Object(ie.d)(je,Object(ie.a)(le.a)),Oe=ue;window.store=ue,r.a.render(Object(s.jsx)(v.a,{store:Oe,children:Object(s.jsx)(re,{})}),document.getElementById("root")),oe()}},[[75,1,2]]]);
//# sourceMappingURL=main.af51cf6d.chunk.js.map
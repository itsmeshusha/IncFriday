(this["webpackJsonpfriday-with-ignat"]=this["webpackJsonpfriday-with-ignat"]||[]).push([[0],{14:function(e,t,n){e.exports={mainBlock:"Login_mainBlock__2Hnsf",heading:"Login_heading__2uUNe",form:"Login_form__YUnFu",item:"Login_item__8ruFX"}},17:function(e,t,n){e.exports={mainBlock:"Registration_mainBlock__2-tPy",heading:"Registration_heading__1ikXU",form:"Registration_form__2vKhD",item:"Registration_item__2OvGO"}},18:function(e,t,n){e.exports={header:"Header_header__10E-F",item:"Header_item__2jxiJ",selected:"Header_selected__1gq-3"}},20:function(e,t,n){e.exports={mainBlock:"NewPassword_mainBlock__18qO6",heading:"NewPassword_heading__1yeBX",form:"NewPassword_form__GI_Wx",item:"NewPassword_item__JkpR3"}},22:function(e,t,n){e.exports={mainBlock:"Profile_mainBlock__2EuSJ",profileImage:"Profile_profileImage__V14iU",item:"Profile_item__1iv2e"}},23:function(e,t,n){e.exports={mainBlock:"RecoverPassword_mainBlock__36Kk5",heading:"RecoverPassword_heading__2PBQ9",form:"RecoverPassword_form__2SbKz",item:"RecoverPassword_item__hD7wO",text:"RecoverPassword_text__17f5i"}},27:function(e,t,n){e.exports={textContainer:"Error_textContainer__33KNz",img:"Error_img__1DIRY",text:"Error_text__1aWPg"}},28:function(e,t,n){e.exports={superInput:"SuperInputText_superInput__1Dvnc",errorInput:"SuperInputText_errorInput__2KNWh",error:"SuperInputText_error__39NON"}},31:function(e,t,n){e.exports={checkbox:"SuperCheckbox_checkbox__BWIdw",spanClassName:"SuperCheckbox_spanClassName__3Sm-t"}},32:function(e,t,n){e.exports={default:"SuperButton_default__2uC1O",red:"SuperButton_red__3Lo1u"}},47:function(e,t,n){e.exports={btn:"Logout_btn__1z6vx"}},54:function(e,t,n){},55:function(e,t,n){},80:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),s=n(25),r=n.n(s),i=(n(54),n(55),n(8)),o=n(5),l=n(27),d=n.n(l),u=n.p+"static/media/404-Error.f783912e.jpg",j=function(){return Object(c.jsxs)("div",{className:d.a.textContainer,children:[Object(c.jsx)("div",{className:d.a.img,children:Object(c.jsx)("img",{src:u})}),Object(c.jsx)("div",{className:d.a.text,children:"Error 404: page donut found :("})]})},O=n(9),b=n(2),h=n(21),m=n(28),p=n.n(m),f=function(e){var t=e.onChange,n=e.onChangeText,a=e.onKeyPress,s=e.onEnter,r=e.error,i=(e.className,e.spanClassName),o=e.setError,l=Object(h.a)(e,["onChange","onChangeText","onKeyPress","onEnter","error","className","spanClassName","setError"]),d="".concat(p.a.error," ").concat(i||""),u=r?p.a.errorInput:p.a.superInput;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("input",Object(b.a)({onChange:function(e){t&&t(e),n&&n(e.currentTarget.value),o&&o("")},onKeyPress:function(e){a&&a(e),"Enter"===e.key&&s&&s()},className:u},l)),r&&Object(c.jsx)("span",{className:d,children:r})]})},x=n(31),g=n.n(x),v=function(e){e.type;var t=e.onChange,n=e.onChangeChecked,a=e.className,s=(e.spanClassName,e.children),r=Object(h.a)(e,["type","onChange","onChangeChecked","className","spanClassName","children"]),i="".concat(g.a.checkbox," ").concat(a||"");return Object(c.jsxs)("label",{children:[Object(c.jsx)("input",Object(b.a)({type:"checkbox",onChange:function(e){t&&t(e),n&&n(e.currentTarget.checked)},className:i},r)),s&&Object(c.jsx)("span",{className:g.a.spanClassName,children:s})]})},R=n(32),_=n.n(R),E=function(e){var t=e.red,n=e.className,a=Object(h.a)(e,["red","className"]),s="".concat(t?_.a.red:_.a.default," ").concat(n);return Object(c.jsx)("button",Object(b.a)({className:s},a))},N=n(4),S=n(14),C=n.n(S),w=n(16),I=n.n(w),k=I.a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),P=function(e){return k.post("auth/login",e)},L=function(){return k.delete("auth/me")},T={status:"idle",error:null},y=function(e){return{type:"APP/SET-STATUS",status:e}},D={isLoggedIn:!1,error:""},U=function(e){return{type:"LOGIN-REDUCER/LOGIN",isLoggedIn:e}},W=n(12),A=n.n(W),G=(n(80),function(){return Object(c.jsx)("div",{className:"loader-wrap",children:Object(c.jsxs)("div",{className:"lds-ellipsis",children:[Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{})]})})}),B=function(){var e=Object(a.useState)(""),t=Object(O.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)(""),l=Object(O.a)(r,2),d=l[0],u=l[1],j=Object(a.useState)(!1),h=Object(O.a)(j,2),m=h[0],p=h[1],x=Object(N.b)(),g=Object(N.c)((function(e){return e.login.isLoggedIn})),R=Object(N.c)((function(e){return e.login.error})),_=Object(N.c)((function(e){return e.app.status}));return g?Object(c.jsx)(o.a,{to:me.PROFILE}):Object(c.jsxs)("div",{className:C.a.mainBlock,children:["loading"===_&&Object(c.jsx)(G,{}),R||"",Object(c.jsx)(A.a,{left:!0,children:Object(c.jsx)("div",{className:C.a.heading,children:"Log In"})}),Object(c.jsx)(A.a,{right:!0,children:Object(c.jsxs)("div",{className:C.a.form,children:[Object(c.jsx)("div",{className:C.a.item,children:Object(c.jsx)(f,{type:"text",placeholder:"email",value:n,onChange:function(e){s(e.target.value)}})}),Object(c.jsx)("div",{className:C.a.item,children:Object(c.jsx)(f,{type:"password",placeholder:"password",value:d,onChange:function(e){u(e.target.value)}})}),Object(c.jsxs)("div",{className:C.a.item,children:[Object(c.jsx)("span",{children:"Remember me"}),Object(c.jsx)(v,{checked:m,onChange:function(e){p(e.target.checked)}})]}),Object(c.jsx)("div",{className:C.a.item,children:Object(c.jsx)(E,{onClick:function(){var e;x((e={email:n,password:d,rememberMe:m},function(t){t(y("loading")),P(e).then((function(e){t(U(!0)),t(y("succeeded"))})).catch((function(e){t({type:"LOGIN/SET_ERROR",error:e.response.data.error+" more details in the console"}),console.log("Error:",Object(b.a)({},e)),t(y("failed"))}))}))},children:"Log In"})}),Object(c.jsx)("div",{className:C.a.item,children:Object(c.jsx)(i.b,{activeClassName:C.a.selected,to:me.RECOVER_PASSWORD,children:"Forgot password?"})}),Object(c.jsx)("div",{className:C.a.item,children:Object(c.jsx)(i.b,{activeClassName:C.a.selected,to:me.REGISTRATION,children:"Don't have profile? Sign up."})})]})})]})},F=I.a.create({baseURL:"https://neko-back.herokuapp.com/2.0",withCredentials:!0}),K=function(e){return F.post("/auth/forgot",{email:e,from:"alexbushueva27@gmail.com",message:"<div style=\"background-color: #ffb7d5; padding: 15px border-radius: 20px\">\n                    password recovery link: \n                        <a href='https://itsmeshusha.github.io/IncFriday/#/new-password/$token$'>link</a>\n                    </div>\n                    "})},V=function(e,t){return F.post("/auth/set-new-password",{password:e,resetPasswordToken:t})},J={status:"idle",error:"",successMessage:""},M=n(20),H=n.n(M),z=function(){var e=Object(a.useState)(""),t=Object(O.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)(""),i=Object(O.a)(r,2),l=i[0],d=i[1],u=Object(o.g)().token,j=Object(N.b)(),b=Object(N.c)((function(e){return e.app.status}));return"succeeded"===b?Object(c.jsx)(o.a,{to:me.LOGIN}):Object(c.jsxs)("div",{className:H.a.mainBlock,children:["loading"===b&&Object(c.jsx)(G,{}),Object(c.jsx)(A.a,{left:!0,children:Object(c.jsx)("div",{className:H.a.heading,children:"New Password"})}),Object(c.jsx)(A.a,{right:!0,children:Object(c.jsxs)("div",{className:H.a.form,children:[Object(c.jsx)("div",{className:H.a.item,children:Object(c.jsx)(f,{type:"password",placeholder:"password",value:n,onChange:function(e){s(e.target.value)}})}),Object(c.jsx)("div",{className:H.a.item,children:Object(c.jsx)(f,{type:"password",placeholder:"password",value:l,onChange:function(e){d(e.target.value)}})}),Object(c.jsx)("div",{className:H.a.item,children:Object(c.jsx)(E,{onClick:function(){n===l?j(function(e,t){return function(n){n(y("loading")),V(e,t).then((function(e){n({type:"NEW-PASSWORD-REDUCER/SET_SUCCESS",success:e.data.message}),n(y("succeeded"))})).catch((function(e){var t=e.response?e.response.data.error:e.message+", more details in the console";n(function(e){return{type:"NEW-PASSWORD-REDUCER/SET_ERROR",error:e}}(t))})).finally((function(){n(y("succeeded"))}))}}(n,u)):alert("Passwords don't match!")},children:"Set password"})})]})})]})},X=n(22),q=n.n(X),Y=I.a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),$=function(){return Y.post("auth/me")},Q={profile:{_id:null,email:null,name:null,avatar:null,publicCardPacksCount:null,created:null,updated:null,isAdmin:null,verified:null,rememberMe:null,error:null}},Z=n.p+"static/media/user.fd39d1b5.png",ee=function(){var e=Object(N.c)((function(e){return e.login.isLoggedIn})),t=Object(N.c)((function(e){return e.profile.profile})),n=Object(N.b)();return Object(a.useEffect)((function(){e&&n((function(e){return $().then((function(t){e({type:"PROFILE-REDUCER/SET_PROFILE",profile:t.data})})).catch((function(e){var t=e.response?e.response.data.error:e.message+", more details in the console";console.log(t)}))}))}),[e,n]),e?Object(c.jsx)("div",{className:q.a.mainBlock,children:Object(c.jsxs)("div",{className:q.a.profile,children:[Object(c.jsx)("div",{className:q.a.profileImage,children:Object(c.jsx)("img",{src:t.avatar?t.avatar:Z,alt:"userPhoto"})}),Object(c.jsxs)("div",{className:q.a.item,children:["id: ",t._id]}),Object(c.jsxs)("div",{className:q.a.item,children:["email: ",t.email]})]})}):Object(c.jsx)(o.a,{to:me.LOGIN})},te={status:"idle",error:"",successMessage:""},ne=n(23),ce=n.n(ne),ae=function(){var e=Object(a.useState)(""),t=Object(O.a)(e,2),n=t[0],s=t[1],r=Object(N.c)((function(e){return e.app.status})),i=Object(N.b)();return Object(c.jsxs)("div",{className:ce.a.mainBlock,children:["loading"===r&&Object(c.jsx)(G,{}),Object(c.jsx)(A.a,{left:!0,children:Object(c.jsx)("div",{className:ce.a.heading,children:"Forgot Password?"})}),Object(c.jsxs)(A.a,{right:!0,children:[Object(c.jsx)("div",{className:ce.a.form,children:Object(c.jsxs)("div",{className:ce.a.item,children:[Object(c.jsx)(f,{type:"text",placeholder:"email",value:n,onChange:function(e){s(e.target.value)}}),Object(c.jsx)(E,{onClick:function(){i(function(e){return function(t){return t(y("loading")),K(e).then((function(e){200===e.status&&(t({type:"RECOVER-PASSWORD-REDUCER/SET_SUCCESS",recoverySuccess:e.data.info}),t(y("succeeded")))})).catch((function(e){var n=e.response?e.response.data.error:e.message+", more details in the console";t(function(e){return{type:"RECOVER-PASSWORD-REDUCER/SET_ERROR",error:e}}(n))})).finally((function(){t(y("succeeded"))}))}}(n)),"succeeded"===r&&s("")},children:"Send email"})]})}),Object(c.jsx)("p",{className:ce.a.text,children:"On your email we'll send a link. Please click it."})]})]})},se=I.a.create({baseURL:"https://neko-back.herokuapp.com/2.0",withCredentials:!0}),re=function(e){return se.post("/auth/register",e)},ie={isRegistered:!1},oe=function(e){return{type:"REGISTER-REDUCER/REGISTER-NEW-USER",isRegistered:e}},le=n(17),de=n.n(le),ue=function(){var e=Object(a.useState)(""),t=Object(O.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)(""),i=Object(O.a)(r,2),l=i[0],d=i[1],u=Object(a.useState)(""),j=Object(O.a)(u,2),b=j[0],h=j[1],m=Object(N.b)(),p=Object(N.c)((function(e){return e.register.isRegistered})),x=Object(N.c)((function(e){return e.app.status}));return p?Object(c.jsx)(o.a,{to:me.LOGIN}):Object(c.jsxs)("div",{className:de.a.mainBlock,children:["loading"===x&&Object(c.jsx)(G,{}),Object(c.jsx)(A.a,{left:!0,children:Object(c.jsx)("div",{className:de.a.heading,children:"Registration"})}),Object(c.jsx)(A.a,{right:!0,children:Object(c.jsxs)("div",{className:de.a.form,children:[Object(c.jsx)("div",{className:de.a.item,children:Object(c.jsx)(f,{type:"text",placeholder:"email",value:n,onChange:function(e){s(e.target.value)}})}),Object(c.jsx)("div",{className:de.a.item,children:Object(c.jsx)(f,{type:"password",placeholder:"password",value:l,onChange:function(e){d(e.target.value)}})}),Object(c.jsx)("div",{className:de.a.item,children:Object(c.jsx)(f,{type:"password",placeholder:"confirm password",value:b,onChange:function(e){h(e.target.value)}})}),Object(c.jsx)("div",{className:de.a.item,children:Object(c.jsx)(E,{onClick:function(){var e;l===b?(m((e={email:n,password:l},function(t){t(y("loading")),re(e).then((function(e){201===e.status?(t(oe(!0)),t(y("succeeded"))):(t(oe(!1)),alert(e.status),t(y("failed")))})).catch((function(e){return console.log(e)}))})),s(""),d(""),h("")):alert("Passwords don't match!")},children:"Register"})})]})})]})},je=function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)(f,{}),Object(c.jsx)(E,{children:"Button"}),Object(c.jsx)(v,{})]})},Oe=n(47),be=n.n(Oe),he=function(){var e=Object(N.c)((function(e){return e.login.isLoggedIn})),t=Object(N.c)((function(e){return e.app.status})),n=Object(N.b)();return Object(c.jsxs)("div",{children:["loading"===t&&Object(c.jsx)(G,{}),e&&Object(c.jsx)("button",{className:be.a.btn,onClick:function(){n((function(e){e(y("loading")),L().then((function(){e(U(!1)),e(y("succeeded"))})).catch((function(t){var n=t.response?t.response.data.error:t.message+", more details in the console";console.log(n),e(y("failed"))}))}))},children:"Log Out"})]})},me={LOGIN:"/login",NEW_PASSWORD:"/new-password/:token?",PROFILE:"/profile",RECOVER_PASSWORD:"/recover-password",REGISTRATION:"/registration",TEST:"/test",LOGOUT:"/logout"},pe=function(){return Object(c.jsx)("div",{children:Object(c.jsxs)(o.d,{children:[Object(c.jsx)(o.b,{exact:!0,path:"/",render:function(){return Object(c.jsx)(o.a,{to:me.PROFILE})}}),Object(c.jsx)(o.b,{path:me.LOGIN,render:function(){return Object(c.jsx)(B,{})}}),Object(c.jsx)(o.b,{path:me.NEW_PASSWORD,render:function(){return Object(c.jsx)(z,{})}}),Object(c.jsx)(o.b,{path:me.PROFILE,render:function(){return Object(c.jsx)(ee,{})}}),Object(c.jsx)(o.b,{path:me.RECOVER_PASSWORD,render:function(){return Object(c.jsx)(ae,{})}}),Object(c.jsx)(o.b,{path:me.REGISTRATION,render:function(){return Object(c.jsx)(ue,{})}}),Object(c.jsx)(o.b,{path:me.TEST,render:function(){return Object(c.jsx)(je,{})}}),Object(c.jsx)(o.b,{path:me.LOGOUT,render:function(){return Object(c.jsx)(he,{})}}),Object(c.jsx)(o.b,{render:function(){return Object(c.jsx)(j,{})}})]})})},fe=n(18),xe=n.n(fe),ge=function(){var e=Object(N.c)((function(e){return e.login.isLoggedIn}));return Object(c.jsxs)("div",{className:xe.a.header,children:[e?Object(c.jsx)(c.Fragment,{}):Object(c.jsx)("span",{className:xe.a.item,children:Object(c.jsx)(i.b,{activeClassName:xe.a.selected,to:me.LOGIN,children:"Log In"})}),Object(c.jsx)("span",{className:xe.a.item,children:Object(c.jsx)(i.b,{activeClassName:xe.a.selected,to:me.REGISTRATION,children:"Registration"})}),Object(c.jsx)("span",{className:xe.a.item,children:Object(c.jsx)(i.b,{activeClassName:xe.a.selected,to:me.PROFILE,children:"Profile"})}),Object(c.jsx)("span",{children:Object(c.jsx)(he,{})})]})};var ve=function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsxs)(i.a,{children:[Object(c.jsx)(ge,{}),Object(c.jsx)(pe,{})]})})},Re=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,83)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))},_e=n(19),Ee=n(48),Ne=Object(_e.c)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APP/SET-STATUS":return Object(b.a)(Object(b.a)({},e),{},{status:t.status});case"APP/SET-ERROR":return Object(b.a)(Object(b.a)({},e),{},{error:t.error});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PROFILE-REDUCER/SET_PROFILE":return Object(b.a)(Object(b.a)({},e),{},{profile:t.profile});default:return e}},register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTER-REDUCER/REGISTER-NEW-USER":return Object(b.a)(Object(b.a)({},e),{},{isRegistered:t.isRegistered});default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN-REDUCER/LOGIN":return Object(b.a)(Object(b.a)({},e),{},{isLoggedIn:t.isLoggedIn});case"LOGIN/SET_ERROR":return Object(b.a)(Object(b.a)({},e),{},{error:t.error});default:return e}},recoverPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECOVER-PASSWORD-REDUCER/SET_ERROR":return Object(b.a)(Object(b.a)({},e),{},{status:t.error});case"RECOVER-PASSWORD-REDUCER/SET_SUCCESS":return Object(b.a)(Object(b.a)({},e),{},{status:t.recoverySuccess});default:return e}},newPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW-PASSWORD-REDUCER/SET_ERROR":return Object(b.a)(Object(b.a)({},e),{},{error:t.error});case"NEW-PASSWORD-REDUCER/SET_SUCCESS":return Object(b.a)(Object(b.a)({},e),{},{successMessage:t.success});default:return e}}}),Se=Object(_e.d)(Ne,Object(_e.a)(Ee.a)),Ce=Se;window.store=Se,r.a.render(Object(c.jsx)(N.a,{store:Ce,children:Object(c.jsx)(ve,{})}),document.getElementById("root")),Re()}},[[82,1,2]]]);
//# sourceMappingURL=main.783e5f8e.chunk.js.map